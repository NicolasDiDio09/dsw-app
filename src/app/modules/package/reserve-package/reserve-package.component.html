<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<!-- eslint-disable max-len -->
<confirmation-modal #confirmationModal (confirmationEvent)="onSubmit()">
  <div modal-title>Confirmar reserva</div>
  <div modal-message>
    Al aceptar se creará una reserva y se cobrará el importe informado
  </div>
</confirmation-modal>

<navbar [showSearch]="true"></navbar>
<div class="mx-12">
  <header class="py-4">
    <h3 class="font-bold text-3xl mb-3">Detalles del paquete</h3>
    <div role="alert" class="alert alert-error mb-2" *ngIf="error">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-current shrink-0 h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <span>Ha ocurrido un error con paquete elegido</span>
    </div>
    <div class="flex flex-row justify-evenly">
      <img
        src="../../../../assets/img/depto.jpg"
        alt="Foto alojamiento"
        class="rounded-lg max-w-screen-md h-[400px]"
      />
      <img
        src="../../../../assets/img/hilux.webp"
        alt="Foto coche"
        class="rounded-lg max-w-screen-md h-[400px]"
      />
    </div>
  </header>
  <main>
    <div class="flex flex-row justify-around py-4">
      <section class="flex flex-col w-[100vh]">
        <ul>
          <li class="text-lg">
            Dirección de la propiedad: {{ property.address }}
          </li>
          <li class="text-lg">Capacidad: {{ property.capacity }} personas</li>
        </ul>
        <span class="text-2xl py-2">Vehículo</span>
        <span class="text-lg">{{
          car.brand + " " + car.model + " " + car.year
        }}</span>
        <span class="text-2xl py-2">Cobertura médica</span>
        <span class="text-lg">{{
          medicalAssist.description + " Tipo " + medicalAssist.coverageType
        }}</span>
      </section>
      <aside class="flex flex-col items-center h-screen dark">
        <div class="w-96 max-w-md bg-gray-800 rounded-lg shadow-md p-6">
          <form class="flex flex-col" [formGroup]="reserveForm">
            <label>Check-in</label>
            <app-input
              [placeholder]="'Check in'"
              [type]="'date'"
              [inputControl]="dateStart"
            ></app-input>
            <label>Check-out</label>
            <app-input
              [placeholder]="'Check out'"
              [type]="'date'"
              [inputControl]="dateEnd"
            />
            <app-button
              class="py-4"
              [type]="'submit'"
              [classType]="'primary'"
              (click)="openModal()"
            >
              Reservar
            </app-button>
          </form>
          <div>
            Costo total:
            <span class="text-xl font-bold text-gray-200"
              >$ {{ property.pricePerNight.price + car.price.value }}</span
            >
            por noche
            <span class="text-sm block">*No incluye impuestos</span>
          </div>
        </div>
      </aside>
    </div>
  </main>
</div>
<app-footer></app-footer>
<snackbar></snackbar>
